@model IEnumerable<TBHAcademy.Models.Mark_Capture>
@using Microsoft.AspNetCore.Identity
@using TBHAcademy.Areas.Identity.Data
@using TBHAcademy.Models

@inject SignInManager<TBHAcademyUser> SignInManager
@inject UserManager<TBHAcademyUser> UserManager

@{
    ViewData["Title"] = "ListMarks1";
    Layout = "~/Views/Shared/_TutorLayoutcshtml.cshtml";
}

<div class="w-100 " style="background: rgba(6, 73, 181,0.5)">
    <div class="pt-1 m-0 row">
        <h5 class="text-white text-center ">Capture Mark</h5>
    </div>
</div>

@*<div class=" row pt-2 ">

    <i onclick="window.print()" class='bx bxs-printer col-4' style='color:#01acff'></i>

</div>*@

@*<div id="StudentInfo" class="col-6 mt-2">
    <h4>Tutor Information</h4>
    First Name: @UserManager.GetUserAsync(User).Result.FirstName <br />
    Last  Name:  @UserManager.GetUserAsync(User).Result.LastName<br />
    Date of Registration: @UserManager.GetUserAsync(User).Result.date
</div>*@

<p>
    <a asp-action="AddMark">Create New</a>
</p>

@*<table id="myTable"  class="table table-bordered table-hover ">

    <thead>
        <tr>
            <th>Student </th>
            <th>Module Code </th>
            <th>Module Name </th>
            <th>Assessment Description</th>
            <th>Assessement Type</th>
            <th>Date Of Assessment</th>
            <th>Mark obtained(%)</th>
            <th>Action</th>

        </tr>
    </thead>
    <tbody>

        @foreach (Capture_Mark_Display E in ViewBag.ProgressReport)
        {

            <tr>
                <td>@E.TBHAcademyUser.LastName @E.TBHAcademyUser.FirstName </td>
                <td>@E.Modules.ModuleCode</td>
                <td>@E.Modules.ModuleName</td>
                <td class="">@E.Mark_Capture.Assessment</td>
                <td>@E.Mark_Capture.Assessment_Type</td>
                <td>@E.Mark_Capture.DateOfAssessment</td>
                <td>@E.Mark_Capture.Mark_Percentage</td>
                <td>
                    <div class="card-footer bg-white">
                        <div class="text-primary center">
                            <a asp-controller="Marks" asp-action="UpdateMark" asp-route-ID="@E.Mark_Capture.MarkID" class="btn btn-outline-primary mx-1">Edit</a>
                            <a asp-controller="Marks" asp-action="Delete" asp-route-ID="@E.Mark_Capture.MarkID" class="btn btn-outline-primary mx-1">Delete</a>
                        </div>
                    </div>
                </td>

            </tr>

        }
        <tr>
        </tr>

    </tbody>

</table>*@

<div>
@*<div class="w-100 mb-2  " style="background: rgba(6, 73, 181,0.5)">
    <div class="pt-1 m-0 row">
        <h5 class="text-white text-center ">List Of Faculties</h5>
    </div>
</div>*@
   <div class="pl-3 pr-3">
        
       @* <a asp-action="InsertFaculty" class="btn btn-outline-info ml-1 mb-2">Add Faculty</a>*@
           
        <table id="myTable" class="table table-bordered table-hover ">
            <thead class="thead-dark">
                  <tr>
                        <th>Student </th>
                        <th>Module Code </th>
                     <th>Module Name </th>
                     <th>Assessment Description</th>
                     <th>Assessement Type</th>
                          <th>Date Of Assessment</th>
                     <th>Mark obtained(%)</th>
                      <th>Action</th>

                </tr>

            </thead>
            <tbody>


                        @foreach (Capture_Mark_Display E in ViewBag.ProgressReport)
                        {
    
                             <tr>
                                 <td>@E.TBHAcademyUser.LastName @E.TBHAcademyUser.FirstName </td>
                                  <td>@E.Modules.ModuleCode</td>
                                  <td>@E.Modules.ModuleName</td>
                                <td class="">@E.Mark_Capture.Assessment</td>
                                 <td>@E.Mark_Capture.Assessment_Type</td>
                                  <td>@E.Mark_Capture.DateOfAssessment</td>
                               <td>@E.Mark_Capture.Mark_Percentage</td>
                              <td>
                                     <div class="card-footer bg-white">
                                         <div class="text-primary center">
                                           <a asp-controller="Marks" asp-action="UpdateMark" asp-route-ID="@E.Mark_Capture.MarkID" class="btn btn-outline-primary mx-1">Edit</a>
                                          <a asp-controller="Marks" asp-action="Delete" asp-route-ID="@E.Mark_Capture.MarkID" class="btn btn-outline-primary mx-1">Delete</a>
                                        </div>
                                   </div>
                                </td>

                            </tr>

                      }

                @if (Model != null)
                {
                  
                }

            </tbody>
        </table>
   </div>
</div>

<script type="text/javascript">
    function Confirmation(event, CourseId) {
        Swal.fire({
            title: 'Are you sure?',
            text: "You want to deactivate this course ?",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirm',
            preConfirm: false
        }).then((result) => {
            if (result.isConfirmed) {
                Swal.fire(
                    'Success!',
                    'Course Deactivated',
                    'success'
                ).then(result => {
                    document.querySelector(`#_${CourseId}`).submit();
                })
            }
        })
    }
</script>




















@*
<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.MarkID)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.StudentID)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ModuleID)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Assessment)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Assessment_Type)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DateOfAssessment)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Overall_Mark)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.mark_Obtained)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Mark_Percentage)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.MarkID)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.StudentID)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ModuleID)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Assessment)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Assessment_Type)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DateOfAssessment)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Overall_Mark)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.mark_Obtained)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Mark_Percentage)
            </td>
            <td>
                @Html.ActionLink("Edit", "Edit", new { /* id=item.PrimaryKey */ }) |
                @Html.ActionLink("Details", "Details", new { /* id=item.PrimaryKey */ }) |
                @Html.ActionLink("Delete", "Delete", new { /* id=item.PrimaryKey */ })
            </td>
        </tr>
}
    </tbody>
</table>
*@